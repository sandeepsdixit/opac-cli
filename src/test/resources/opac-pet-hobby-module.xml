<?xml version="1.0" encoding="UTF-8"?>
<module>
  <name>opac-pet-module</name>
  <description>opac pet hobby module</description>
  <component>
    <name>Pet</name>
    <description>Pet</description>
    <cache-management-preference>enable</cache-management-preference>
    <distributed-database>cassandra</distributed-database>
    <data-initializer>data.PetDataInitializer</data-initializer>
    <non-managed-beans>
      <non-managed-bean>
        <class-name>pojo.PetBean</class-name>
      </non-managed-bean>
    </non-managed-beans>
    <attributes>
      <attribute>
        <name>petID</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>name</name>
        <type>java.lang.String</type>
        <description>name</description>
        <size>20</size>
      </attribute>
      <attribute>
        <name>description</name>
        <type>java.lang.String</type>
        <description>description</description>
        <size>50</size>
      </attribute>
      <attribute>
        <name>createdOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
      <attribute>
        <name>lastModifiedOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
    </attributes>
    <write-attributes>
      <attribute-name>name</attribute-name>
      <attribute-name>description</attribute-name>
      <attribute-name>lastModifiedOn</attribute-name>
    </write-attributes>
    <materialized-views>
      <materialized-view>
        <name>Pet_by_name</name>
        <primary-key>
          <attribute-name>name</attribute-name>
          <attribute-name>petID</attribute-name>
        </primary-key>
      </materialized-view>
    </materialized-views>
    <constraints>
      <constraint>
        <name>pet_c1</name>
        <type>non-unique</type>
        <constraint-attribute>
          <attribute-seq>1</attribute-seq>
          <attribute-name>name</attribute-name>
        </constraint-attribute>
      </constraint>
      <constraint>
        <name>pet_c2</name>
        <type>non-unique</type>
        <constraint-attribute>
          <attribute-seq>1</attribute-seq>
          <attribute-name>description</attribute-name>
        </constraint-attribute>
      </constraint>
    </constraints>
    <managed-bean>
      <entity>pojo.PetBean</entity>
      <primary-key>
        <attribute-name>petID</attribute-name>
      </primary-key>
      <named-query name="findByUniqueKey">
        <query><![CDATA[select * from Pet_by_name where name = ?1]]>
        </query>
        <hint name="jeebuilder.hint.UniqueConstraintQuery" value="pet_c1" />
      </named-query>
      <named-query name="findAll">
        <query><![CDATA[select * from Pet]]>
        </query>
      </named-query>
      <named-query name="findByName">
        <query><![CDATA[select * from Pet where name like ?1]]>
        </query>
      </named-query>
      <named-query name="findByDescription">
        <query><![CDATA[select * from Pet where description like ?1]]>
        </query>
      </named-query>
      <named-query name="findByHobbyID">
        <query><![CDATA[
				PetHobby.findByHobbyID(?1) as ph1
				->	return Pet.findByPrimaryKey(ph1.petID)]]></query>
        <hint name="jeebuilder.hint.QueryProcessor" value="oql" />
      </named-query>
      <named-query name="findByNames">
        <query><![CDATA[select * from Pet_by_name where name in ?1]]>
        </query>
      </named-query>
      <factory-methods>
        <factory-method>
          <name>create</name>
          <type>create</type>
          <method-params>
            <method-param>
              <param-seq>1</param-seq>
              <param-name>petID</param-name>
              <param-value>
                <component-name>Pet</component-name>
                <non-managed-bean-class-method>getPetID
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>2</param-seq>
              <param-name>name</param-name>
              <param-value>
                <component-name>Pet</component-name>
                <non-managed-bean-class-method>getName
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>3</param-seq>
              <param-name>description</param-name>
              <param-value>
                <component-name>Pet</component-name>
                <non-managed-bean-class-method>getDescription
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>4</param-seq>
              <param-name>createdOn</param-name>
              <param-value>
                <component-name>Utility</component-name>
                <non-managed-bean-class-method>getCurrentTimestamp
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
          </method-params>
        </factory-method>
      </factory-methods>
    </managed-bean>
  </component>
  <component>
    <name>Hobby</name>
    <description>Hobby</description>
    <cache-management-preference>enable</cache-management-preference>
    <distributed-database>cassandra</distributed-database>
    <data-initializer>data.HobbyDataInitializer</data-initializer>
    <non-managed-beans>
      <non-managed-bean>
        <class-name>pojo.HobbyBean</class-name>
      </non-managed-bean>
    </non-managed-beans>
    <attributes>
      <attribute>
        <name>hobbyID</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>name</name>
        <type>java.lang.String</type>
        <description>name</description>
        <size>20</size>
      </attribute>
      <attribute>
        <name>description</name>
        <type>java.lang.String</type>
        <description>description</description>
        <size>50</size>
        <maxlength>50</maxlength>
      </attribute>
      <attribute>
        <name>createdOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
      <attribute>
        <name>lastModifiedOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
    </attributes>
    <write-attributes>
      <attribute-name>name</attribute-name>
      <attribute-name>description</attribute-name>
      <attribute-name>lastModifiedOn</attribute-name>
    </write-attributes>
    <materialized-views>
      <materialized-view>
        <name>Hobby_by_name</name>
        <primary-key>
          <attribute-name>name</attribute-name>
          <attribute-name>hobbyID</attribute-name>
        </primary-key>
      </materialized-view>
    </materialized-views>
    <constraints>
      <constraint>
        <name>hobby_c1</name>
        <type>non-unique</type>
        <constraint-attribute>
          <attribute-seq>1</attribute-seq>
          <attribute-name>name</attribute-name>
        </constraint-attribute>
      </constraint>
      <constraint>
        <name>hobby_c2</name>
        <type>non-unique</type>
        <constraint-attribute>
          <attribute-seq>1</attribute-seq>
          <attribute-name>description</attribute-name>
        </constraint-attribute>
      </constraint>
    </constraints>
    <managed-bean>
      <entity>pojo.HobbyBean</entity>
      <primary-key>
        <attribute-name>hobbyID</attribute-name>
      </primary-key>
      <named-query name="findByUniqueKey">
        <query><![CDATA[select * from Hobby_by_name where name = ?1]]>
        </query>
        <hint name="jeebuilder.hint.UniqueConstraintQuery" value="hobby_c1" />
      </named-query>
      <named-query name="findAll">
        <query><![CDATA[select * from Hobby]]>
        </query>
        <hint name="jeebuilder.hint.SupportsNullArgument" value="true" />
      </named-query>
      <named-query name="findByName">
        <query><![CDATA[select * from Hobby where name like ?1]]>
        </query>
      </named-query>
      <named-query name="findByDescription">
        <query><![CDATA[select * from Hobby where description like ?1]]>
        </query>
      </named-query>
      <named-query name="findByNames">
        <query><![CDATA[select * from Hobby_by_name where name in ?1]]>
        </query>
      </named-query>
      <named-query name="findByPrimaryKeys">
        <query><![CDATA[select * from Hobby where hobbyID in ?1]]>
        </query>
      </named-query>
      <factory-methods>
        <factory-method>
          <name>create</name>
          <type>create</type>
          <method-params>
            <method-param>
              <param-seq>1</param-seq>
              <param-name>hobbyID</param-name>
              <param-value>
                <component-name>Hobby</component-name>
                <non-managed-bean-class-method>getHobbyID
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>2</param-seq>
              <param-name>name</param-name>
              <param-value>
                <component-name>Hobby</component-name>
                <non-managed-bean-class-method>getName
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>3</param-seq>
              <param-name>description</param-name>
              <param-value>
                <component-name>Hobby</component-name>
                <non-managed-bean-class-method>getDescription
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>4</param-seq>
              <param-name>createdOn</param-name>
              <param-value>
                <component-name>Utility</component-name>
                <non-managed-bean-class-method>getCurrentTimestamp
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
          </method-params>
        </factory-method>
      </factory-methods>
    </managed-bean>
    <!-- 0..* component - entitlements implementation -->
    <relation>
      <name>colOfPetVO</name>
      <description>hobby - Pet relationship</description>
      <relation-attributes>
        <attribute-name>hobbyID</attribute-name>
      </relation-attributes>
      <component-ref>
        <name>Pet</name>
        <relation-attributes>
          <attribute-name>hobbyID</attribute-name>
        </relation-attributes>
        <factory-method>
          <name>findByHobbyID</name>
          <type>select</type>
          <method-params>
            <method-param>
              <param-seq>1</param-seq>
              <param-value>
                <component-name>Hobby</component-name>
                <non-managed-bean-id>hobbyBean</non-managed-bean-id>
                <non-managed-bean-class-method>getHobbyID
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
          </method-params>
        </factory-method>
      </component-ref>
      <type>0..*</type>
      <traverse-mode>1</traverse-mode> <!-- * goes in infine loop TO-DO ****** -->
    </relation>
  </component>
  <component>
    <name>PetHobby</name>
    <description>HobbyPermission</description>
    <cache-management-preference>enable</cache-management-preference>
    <distributed-database>cassandra</distributed-database>
    <data-initializer>data.PetHobbyDataInitializer</data-initializer>
    <non-managed-beans>
      <non-managed-bean>
        <class-name>pojo.PetHobbyBean</class-name>
      </non-managed-bean>
    </non-managed-beans>
    <attributes>
      <attribute>
        <name>hobbyID</name>
        <description>hobby</description>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>petID</name>
        <description>pet</description>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>name</name>
        <type>java.lang.String</type>
        <description>name</description>
        <size>40</size>
      </attribute>
      <attribute>
        <name>description</name>
        <type>java.lang.String</type>
        <description>description</description>
        <size>100</size>
      </attribute>
      <attribute>
        <name>createdOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
      <attribute>
        <name>lastModifiedOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
    </attributes>
    <constraints>
      <constraint>
        <name>hobbypet_c1</name>
        <type>non-unique</type>
        <constraint-attribute>
          <attribute-seq>1</attribute-seq>
          <attribute-name>petID</attribute-name>
        </constraint-attribute>
      </constraint>
    </constraints>
    <materialized-views>
      <materialized-view>
        <name>PetHobby_by_petID</name>
        <primary-key>
          <attribute-name>petID</attribute-name>
          <attribute-name>hobbyID</attribute-name>
        </primary-key>
      </materialized-view>
    </materialized-views>
    <managed-bean>
      <entity>pojo.PetHobbyBean</entity>
      <primary-key>
        <attribute-name>hobbyID</attribute-name>
        <attribute-name>petID</attribute-name>
      </primary-key>
      <named-query name="findByHobbyID">
        <query><![CDATA[select * from PetHobby where hobbyID = ?1]]></query>
      </named-query>
      <named-query name="findByHobbyIDs">
        <query><![CDATA[select * from PetHobby where hobbyID in ?1]]></query>
      </named-query>
      <named-query name="findByPetID">
        <query><![CDATA[select * from PetHobby_by_petID where petID = ?1]]></query>
      </named-query>
      <named-query name="findByPetIDs">
        <query><![CDATA[select * from PetHobby_by_petID where petID in ?1]]></query>
      </named-query>
      <factory-methods>
        <factory-method>
          <name>create</name>
          <type>create</type>
          <method-params>
            <method-param>
              <param-seq>1</param-seq>
              <param-name>hobbyID</param-name>
              <param-value>
                <component-name>PetHobby</component-name>
                <non-managed-bean-class-method>getHobbyID
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>2</param-seq>
              <param-name>petID</param-name>
              <param-value>
                <component-name>PetHobby</component-name>
                <non-managed-bean-class-method>getPetID
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
            <method-param>
              <param-seq>3</param-seq>
              <param-name>createdOn</param-name>
              <param-value>
                <component-name>Utility</component-name>
                <non-managed-bean-class-method>getCurrentTimestamp
                </non-managed-bean-class-method>
              </param-value>
            </method-param>
          </method-params>
        </factory-method>
      </factory-methods>
    </managed-bean>
    <relation>
      <name>hobbyVO</name>
      <description>hobby relationship</description>
      <relation-attributes>
        <attribute-name>hobbyID</attribute-name>
      </relation-attributes>
      <component-ref>
        <name>Hobby</name>
        <relation-attributes>
          <attribute-name>hobbyID</attribute-name>
        </relation-attributes>
      </component-ref>
      <type>1</type>
    </relation>
    <relation>
      <name>petVO</name>
      <description>pet relationship</description>
      <relation-attributes>
        <attribute-name>petID</attribute-name>
      </relation-attributes>
      <component-ref>
        <name>Pet</name>
        <relation-attributes>
          <attribute-name>petID</attribute-name>
        </relation-attributes>
      </component-ref>
      <type>1</type>
    </relation>
  </component>
  <component>
    <name>Utility</name>
    <description>Utility</description>
    <type>facade</type>
    <image>images/component-48x48.png</image>
    <attributes>
      <attribute>
        <name>currentDayOfWeek</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>currentDayOfMonth</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>currentMonth</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>currentYear</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>currentTimestamp</name>
        <type>java.sql.Timestamp</type>
      </attribute>
      <attribute>
        <name>lastModifiedBy</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>lastModifiedOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
      <attribute>
        <name>createdBy</name>
        <type>java.lang.Integer</type>
      </attribute>
      <attribute>
        <name>createdOn</name>
        <type>java.sql.Timestamp</type>
      </attribute>
    </attributes>
    <non-managed-beans>
      <non-managed-bean>
        <class-name>org.j2eebuilder.util.UtilityBean</class-name>
      </non-managed-bean>
    </non-managed-beans>
    <managed-bean />
  </component>
</module>